	<!DOCTYPE html>	<html lang="en-US">
	<head>
	<meta charset="UTF-8" />
			<title>Bugs, In our game? It&#8217;s (now) less likely than you think. | Textual Indices</title>
		<link rel="stylesheet" href="/wp-content/themes/inline/style.css" type="text/css" media="all" />
		<link rel="shortcut icon" href="/wp-content/themes/inline/images/favicon.ico" type="image/x-icon" />
	<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Textual Indices &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Textual Indices &raquo; Comments Feed" href="/comments/feed/" />
<meta name="description" content="Brandon asked me (Zach) to do a blog outlining some of the recent fixes we have coming with 1.5.5. However considering we have a pretty constant weekly update..." />
<link rel="alternate" type="application/rss+xml" title="Textual Indices &raquo; Bugs, In our game? It&#8217;s (now) less likely than you think. Comments Feed" href="/2011/06/bugs-in-our-game-its-now-less-likely-than-you-think/feed/" />
<meta name="keywords" content="Zach" />
<meta name="robots" content="index,follow,noodp,noydir" />
<link rel="canonical" href="/2011/06/bugs-in-our-game-its-now-less-likely-than-you-think/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.textualindices.com\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Summer!!!!!!' href='/2011/05/summer/' />
<link rel='next' title='Wow!' href='/2011/07/wow/' />
<meta name="generator" content="WordPress 4.9.8" />
<link rel='shortlink' href='http://wp.me/p1qkoS-2z' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.textualindices.com%2Fblog%2F2011%2F06%2Fbugs-in-our-game-its-now-less-likely-than-you-think%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.textualindices.com%2Fblog%2F2011%2F06%2Fbugs-in-our-game-its-now-less-likely-than-you-think%2F&#038;format=xml" />

<!-- ADD TO HEADER - START -->
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<!-- ADD TO HEADER - END -->
	
	<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

</head>
	<body class="post-template-default single single-post postid-159 single-format-standard">
	<section id="wrapper"><header id="header"><div class="wrap"><div class="title"><p id="logo"><a href="/" title="Textual Indices">Textual Indices</a></p></div><!--end .title--><nav id="navigation"><div id="primary" class="menu-header"><ul id="menu-topmenu" class="menu"><li id="menu-item-55" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55"><a href="http://www.textualindices.com/">Home</a></li>
<li id="menu-item-217" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-217"><a href="http://www.textualindices.com/refraction/">Refraction</a></li>
<li id="menu-item-83" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-83"><a href="http://www.facebook.com/pages/Textual-Indices/121992797876007">Facebook</a></li>
<li id="menu-item-218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-218"><a href="http://www.textualindices.com/about/">About Us</a></li>
<li id="menu-item-219" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-219"><a href="http://www.textualindices.com/contact/">Contact Us</a></li>
</ul></div></nav><!--end #navigation--><div class="clear"></div></div><!--end #header .wrap--></header><!--end #header--><nav id="secondary-nav"><div class="wrap"></div><!--end #secondary-nav .wrap--></nav><!--end #secondary-nav--><div class="clear"></div><div id="top-section"><div class="wrap"><h2 class="page-title">The Blog</h2><div class="top-widget"></div><!--end .top-widget--><div class="clear"></div></div><!--end #top-section .wrap--></div><!--end #top-section--><div id="main-content"><div class="wrap"><div class="content-sidebar-wrapper"><div id="content">	
	<article class="post-159 post type-post status-publish format-standard hentry category-uncategorized tag-zach">
	
		<div class="post-date"><div class="num">07</div><!--end .num--><div class="month">Jun</div><!--end .month--></div><!--end .post-date-->		<h2 class="entry-title">Bugs, In our game? It&#8217;s (now) less likely than you think.</h2>		<p class="post-meta"> <span class="post-author">By <a href="/author/zach/" title="Posts by Zach">Zach</a></span><span class="sep">|</span><span class="post-categories"><a href="/category/uncategorized/" rel="category tag">Uncategorized</a></span></p>		
				<p>Brandon asked me (Zach) to do a blog outlining some of the recent fixes we have coming with 1.5.5.  However considering we have a pretty constant weekly update cycle I&#8217;d like to try to do a blog for every weekly update.  We&#8217;ll see.</p>
<p>So.  In 1.5.5 we have some pretty substantial bug fixes coming, that I hope should clear up a lot of issues people are still having.  I will try to explain the most significant one here.</p>
<p><strong>The Self Infliction Bug:</strong></p>
<p>I am going to attempt an understandable explanation of the bug, and then the subsequent fix, hopefully this will be understandable, but it will be dense.  (Don&#8217;t worry, I will aid you with pictures)</p>
<p>The setup:                                       The Result:<br />
<a href="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step2.png"><img class="alignnone size-full wp-image-162" title="SI_Bug_step2" src="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step2.png" alt="" width="180" height="300" srcset="/wp-content/uploads/2011/06/SI_Bug_step2.png 480w, /wp-content/uploads/2011/06/SI_Bug_step2-180x300.png 180w" sizes="(max-width: 180px) 100vw, 180px" /></a><a href="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step1.png"><img class="size-full wp-image-160 alignleft" title="SI_Bug_step1" src="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step1.png" alt="SI Bug Step 1" width="180" height="300" srcset="/wp-content/uploads/2011/06/SI_Bug_step1.png 480w, /wp-content/uploads/2011/06/SI_Bug_step1-180x300.png 180w" sizes="(max-width: 180px) 100vw, 180px" /></a></p>
<p>This is achieved by rotating the &#8220;green&#8221; mirror until it reflects the green laser straight up into what was the prism splitting the red.</p>
<p>So what exactly happened there?  Well to better analyze it, lets take a look at what happens now (corrected):<br />
<a href="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_fix.png"><img class="alignnone size-full wp-image-163" title="SI_Bug_fix" src="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_fix.png" alt="" width="180" height="300" srcset="/wp-content/uploads/2011/06/SI_Bug_fix.png 480w, /wp-content/uploads/2011/06/SI_Bug_fix-180x300.png 180w" sizes="(max-width: 180px) 100vw, 180px" /></a></p>
<p>At first glance this doesn&#8217;t look much better, but one key thing to note here is you can easily rotate the mirror &#8220;back out&#8221; of this situation to return to what it was in the original picture (this is good!)</p>
<p>To finally explain this bug, I will give a brief explanation of the logic involved in a laser &#8220;creation&#8221; (in this instance by rotating we are deleting a laser at the previous angle, and creating one at the new angle).</p>
<p>When a laser is created there are 3 main aspects to the logic: (simplified)</p>
<ol>
<li>Do stuff</li>
<li>Check for what this new laser will affect, and calculate accordingly</li>
<li>Do more stuff</li>
</ol>
<p>So in a situation where the newly create laser hits a mirror, the logic is something like so:</p>
<ol>
<li>Do stuff</li>
<li>Check for what this new laser will affect, and calculate accordingly:<br />
a. Do stuff<br />
b. Check for what this new laser will affect, and calculate accordingly<br />
c. Do more stuff</li>
<li>Do more stuff</li>
</ol>
<p>And so on, and so forth.  This logic can nest infinitely deeply (well until you physically run out of room for more objects to affect).  With that basic understanding out of the way, lets apply it to the aforementioned situation.</p>
<p><a href="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_fix.png"></a><a href="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step1.png"><img class="size-full wp-image-160 alignleft" style="margin-right: 30px;" title="SI_Bug_step1" src="http://textualindices.com/wp-content/uploads/2011/06/SI_Bug_step1.png" alt="SI Bug Step 1" width="180" height="300" srcset="/wp-content/uploads/2011/06/SI_Bug_step1.png 480w, /wp-content/uploads/2011/06/SI_Bug_step1-180x300.png 180w" sizes="(max-width: 180px) 100vw, 180px" /></a>When you reflect the green laser up into the &#8220;red splitting&#8221; prism, this series of events happens:</p>
<ol>
<li>Green laser created pointing straight up</li>
<li>Green combines with the incoming red to form the dead white</li>
<li>The prism that previously combined red + blue to form purple, now has no red input.  Thus it now splits blue, one straight up, and one straight Right (default outputs of a single split).</li>
<li>The blue laser now going straight right combines with the prism that was splitting yellow forming green.</li>
<li>The yellow that was being split straight downward is now removed, meaning our original green laser does not exist.  THE ONE WE USED TO START THIS WHOLE MESS.  (see the buggy pic up top)</li>
</ol>
<p>Because of the nesting nature of this process, it is bad to end up affecting something that is already being modified once in the chain.  The code could have certainly been designed differently originally to avoid this issue, but of course hindsight is 2o/20.  With that being said, once discovered this issue was actually really easy to fix.</p>
<p>There is now a global &#8220;Object Modification Stack&#8221; That maintains a list of objects currently part of the recalculation chain.  If a laser tries to affect a Prism in this stack, it is respectfully declined.  Leading to the result in the &#8220;fixed&#8221; picture.  The blue laser is stopping at the yellow splitting prism, because it knows it cant proceed any further without royally fucking everything up 🙂</p>
<p>I hope anyone who reads this finds it remotely interesting, and not terribly confusing.</p>
<p>&#8211; Zach</p>
		<div class="post-tags">Tagged as: <a href="/tag/zach/" rel="tag">Zach</a><br /></div><!--end .post-tags-->		
	</article><!--end .post_class-->
	
			<!--
		<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.textualindices.com/blog/2011/06/bugs-in-our-game-its-now-less-likely-than-you-think/"
    dc:identifier="http://www.textualindices.com/blog/2011/06/bugs-in-our-game-its-now-less-likely-than-you-think/"
    dc:title="Bugs, In our game? It&#8217;s (now) less likely than you think."
    trackback:ping="http://www.textualindices.com/blog/2011/06/bugs-in-our-game-its-now-less-likely-than-you-think/trackback/" />
</rdf:RDF>		-->
	<div class="pagination">			<span class="pagination-text">View More Posts:</span>
				<ul>					<li class="next"><a href="/2011/05/summer/" rel="prev">&larr;</a></li>
					<li class="prev"><a href="/2011/07/wow/" rel="next">&rarr;</a></li>
				</ul></div><!--end .pagination--></div><!--end #content--><div id="sidebar"><div class="sidebar widget-area"><div id="twitter-4" class="widget"><h3><a href='http://twitter.com/textualindices'>Twitter Updates</a></h3><p>Error: Twitter did not respond. Please wait a few minutes and refresh this page.</p></div></div><!--end .sidebar--></div><!--end #sidebar-->	<div class="clear"></div>
	</div><!--end .content-sidebar-wrapper--></div><!--end #main-content .wrap--></div><!--end #main-content--><footer id="footer"><div class="wrap">	<p class="credit"><a href="http://inline.thomasgriffinmedia.com/" target="_blank">Powered by the inLine Minimal WordPress Theme</a></p>
	</div><!--end #footer .wrap--></footer><!--end #footer--></section><!--end #wrapper--><script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=4.9.8'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.9.8'></script>
	<div style="display:none">
	</div>
<script type='text/javascript' src='/wp-content/themes/inline/lib/js/standard.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>

	<script src="http://stats.wordpress.com/e-201845.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:1.5',blog:'21051286',post:'159'});
	var load_cmc = function(){linktracker_init(21051286,159,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body><!--end body-->
<script>'undefined'=== typeof _trfq || (window._trfq = []);'undefined'=== typeof _trfd && (window._trfd=[]),_trfd.push({'tccl.baseHost':'secureserver.net'}),_trfd.push({'ap':'cpsh'},{'server':'p3plcpnl0070'}) // Monitoring performance to make your website faster. If you want to opt-out, please contact web hosting support.</script><script src='https://img1.wsimg.com/tcc/tcc_l.combined.1.0.6.min.js'></script></html>