	<!DOCTYPE html>	<html lang="en-US">
	<head>
	<meta charset="UTF-8" />
			<title>Refraction 2 | Textual Indices</title>
		<link rel="stylesheet" href="/wp-content/themes/inline/style.css" type="text/css" media="all" />
		<link rel="shortcut icon" href="/wp-content/themes/inline/images/favicon.ico" type="image/x-icon" />
	<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Textual Indices &raquo; Feed" href="/feed/" />
<link rel="alternate" type="application/rss+xml" title="Textual Indices &raquo; Comments Feed" href="/comments/feed/" />
<meta name="description" content="So what have we been doing you might ask? Well, there hasn&amp;#8217;t been much activity here (primarily because we assume almost no one reads this) but we have..." />
<meta name="keywords" content="Textual Indices" />
<meta name="robots" content="index,follow,noodp,noydir" />
<link rel="canonical" href="/2012/01/refraction-2/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.textualindices.com\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.8"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='It&#8217;s been a while' href='/2011/08/its-been-a-while/' />
<meta name="generator" content="WordPress 4.9.8" />
<link rel='shortlink' href='http://wp.me/p1qkoS-3z' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.textualindices.com%2Fblog%2F2012%2F01%2Frefraction-2%2F" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.textualindices.com%2Fblog%2F2012%2F01%2Frefraction-2%2F&#038;format=xml" />

<!-- ADD TO HEADER - START -->
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
<!-- ADD TO HEADER - END -->
	
	<!--[if lt IE 9]><script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

</head>
	<body class="post-template-default single single-post postid-221 single-format-standard">
	<section id="wrapper"><header id="header"><div class="wrap"><div class="title"><p id="logo"><a href="/" title="Textual Indices">Textual Indices</a></p></div><!--end .title--><nav id="navigation"><div id="primary" class="menu-header"><ul id="menu-topmenu" class="menu"><li id="menu-item-55" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-55"><a href="http://www.textualindices.com/">Home</a></li>
<li id="menu-item-217" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-217"><a href="http://www.textualindices.com/refraction/">Refraction</a></li>
<li id="menu-item-83" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-83"><a href="http://www.facebook.com/pages/Textual-Indices/121992797876007">Facebook</a></li>
<li id="menu-item-218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-218"><a href="http://www.textualindices.com/about/">About Us</a></li>
<li id="menu-item-219" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-219"><a href="http://www.textualindices.com/contact/">Contact Us</a></li>
</ul></div></nav><!--end #navigation--><div class="clear"></div></div><!--end #header .wrap--></header><!--end #header--><nav id="secondary-nav"><div class="wrap"></div><!--end #secondary-nav .wrap--></nav><!--end #secondary-nav--><div class="clear"></div><div id="top-section"><div class="wrap"><h2 class="page-title">The Blog</h2><div class="top-widget"></div><!--end .top-widget--><div class="clear"></div></div><!--end #top-section .wrap--></div><!--end #top-section--><div id="main-content"><div class="wrap"><div class="content-sidebar-wrapper"><div id="content">	
	<article class="post-221 post type-post status-publish format-standard hentry category-uncategorized">
	
		<div class="post-date"><div class="num">27</div><!--end .num--><div class="month">Jan</div><!--end .month--></div><!--end .post-date-->		<h2 class="entry-title">Refraction 2</h2>		<p class="post-meta"> <span class="post-author">By <a href="/author/zach/" title="Posts by Zach">Zach</a></span><span class="sep">|</span><span class="post-categories"><a href="/category/uncategorized/" rel="category tag">Uncategorized</a></span></p>		
				<p>So what have we been doing you might ask?</p>
<p>Well, there hasn&#8217;t been much activity here (primarily because we assume almost no one reads this) but we have been busy.  Work on the Android version of Refraction stopped around August on v1.8.4.  We, like any eager developers, wanted to expand and take our successes elsewhere.  So in August we began &#8220;porting&#8221; Refraction to iOS devices, unfortunately it was around this time when we lost 1 of our 3 man team.  Brandon had responsibilities that took more than he could offer if he continued to work heavily with us, considering those were much more important than the Textual Indices side project, he phased out work with us after assisting in some early iOS tweaks.  This made things progress a lot slower than we anticipated.</p>
<p>Ultimately come late December we had it &#8216;ready.&#8217;  Except unfortunately it wasn&#8217;t, and while that is primarily a topic for another blog, it&#8217;s worth mentioning because the improvements we made with the iOS port, plus even more stuff, is going to wind up as <strong>Refraction 2: working title</strong> for Android.  Which brings me to the point of this blog, to cover most of you what you can expect to see in the Sequel for those die hard fans who have interest!</p>
<p><span style="text-decoration: underline;"><strong>1. Proper GFX (GPU Rendering!)</strong></span><br />
In Refraction, we took kind of a short cut.  To handle graphics rendering we went the easiest route possible, using the primitive android &#8216;Canvas&#8217; and paint libraries.  Which are actually intended to be used for custom layout rendering (not full on game rendering!).  As you may have noticed the game can&#8217;t make it much above 25fps (in later versions we capped it at 24fps to save cpu) because the entire game is being rendered with the cpu, not the gpu.  While not only feeling and looking unresponsive and slow, this also puts unnecessary drain on the cpu.  In Refraction 2 this is gone!</p>
<p>We revamped the drawing and now the game makes use of the awesome andEngine graphics library.  Numbers vary by device, but if you have a phone roughly equivalent in horsepower to a Galaxy S II, the game will be ~60fps with all particle effects on.  On my Captivate (getting kind of old now) I get 40-60fps depending on the amount of particles on screen (there will likely be settings to tweak this).</p>
<p>Filed under this category as well, I think are two important sub points.  Firstly, the visuals have been redone, we think it looks a lot better, but of course opinions may vary there.  And additionally, the highest resolution textures we had available for Refraction were for a 480&#215;800 resolutions screen, anything larger was upscaled.  This is gone as well now, and we should be able to support any resolution going forward (even the rumored high density tablet displays).</p>
<p>While I can&#8217;t do the fps justice in a screenshot, at least you can check out some of the visual improvements here.<br />
<a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-06-56.png"><img class="alignnone size-full wp-image-222" title="Screenshot_2012-01-27-16-06-56" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-06-56.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-06-56.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-16-06-56-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a> <a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-03-40.png"><img class="alignnone size-full wp-image-223" title="Screenshot_2012-01-27-16-03-40" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-03-40.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-03-40.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-16-03-40-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a></p>
<p><span style="text-decoration: underline;"><strong>2. Controls</strong></span><br />
Over the course of development and updating we changed the controls a lot, never really being satisfied.  We think we finally got it right.  Below you will see a picture of a Prism that is currently selected, you should notice a lot of things are different.  First off all, selected objects are &#8216;raised&#8217;  to give a clear view of what their outputs are effecting.   This is to hopefully give you a better idea of how you are about to screw up your solution &#8212; before you do it.</p>
<p>To rotate either laser from the prism, simply touch anywhere in the game area while an object is selected and rotate around it.  If you have a prism with 2 outputs selected it will find the one closest to where you started your rotation and use that.</p>
<p>To get very descriptive of how it all works&#8230; when you first touch your finger down the game will highlight the laser your finger is closest to, so you know which will be rotated.  Nothing is changed yet &#8212; as soon as you start to move your finger, the laser is then in a way &#8216;deleted&#8217; and your working solution actually altered.  The laser then follows your finger as you rotate as a visual guide.  As soon as you release your finger, the laser will snap to the closest available slot in the prism and then once again affect the solution.  Mirrors largely work the same way.</p>
<p><a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-19-31.png"><img class="alignnone size-full wp-image-225" title="Screenshot_2012-01-27-16-19-31" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-19-31.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-19-31.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-16-19-31-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a></p>
<p>Another problem users expressed trouble with was the fact that Prisms alternating between a &#8216;splitter&#8217; and a &#8216;combiner&#8217; caused way too many headaches.  We sympathize, and debated on what was the most realistic way to help alleviate the problem.  Our solution probably isn&#8217;t perfect, but we think it was the most reasonable compromise between helpfulness and difficulty to implement.  Essentially Prisms can be &#8216;locked.&#8217;  What this means is very simple, if the Prism is &#8216;splitting&#8217; a laser (i.e. has one input &#8211; two outputs) and it is locked, hitting it with a second laser will not cause the second laser to combine.  it just dies there, below is a screenshot.  Locking a prism really means nothing if it already has two inputs obviously, as a 3rd would have no effect regardless.</p>
<p>There are a few other key aspects, such as locking a prism in no way stops the input from being removed.  Should an input be removed, the prism is unlocked. Same thing happens if the prism is relocated to a different gridsquare, it &#8216;unlocks.&#8217;  Pretty straightforward stuff.  For convenience we are considering adding a &#8216;lock all&#8217; functionality, just so if you get paranoid at the end of a very complex solution, you don&#8217;t have to go back and lock Prisms one by one.</p>
<p><a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-17-04-28.png"><img class="alignnone size-full wp-image-226" title="Screenshot_2012-01-27-17-04-28" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-17-04-28.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-17-04-28.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-17-04-28-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a></p>
<p><span style="text-decoration: underline;"><strong>3. Solutions </strong></span></p>
<p>This might not deserve it&#8217;s own major heading but why not.  Solutions in Refraction are broken, it&#8217;s tough to admit as a developer but it is true.  And after looking into it for the iOS port we realized how glaringly obvious the problem was.</p>
<p>In Refraction only the final &#8216;grid state&#8217; was saved as a solution.  This is a big problem, I am sure some of the smarter users can see why pretty much right away.  Needless to say we revamped the solution handling for Refraction 2, (well Brandon did a big chunk of it as his last work) and the entire progress of a solution is now saved, every deletion is included.  It felt excessive but unfortunately all this information is needed to guarantee a valid solution.  Yes, here at Textual Indices we take broken parts of the game, fix them, and call them features for the sequel!</p>
<p>Solution sharing will be back, and hopefully with a slightly improved UI this time.  There is more here potentially, but this is going to be played &#8216;by ear&#8217; as we see how much time we have.</p>
<p><span style="text-decoration: underline;"><strong>4. Misc Features</strong></span></p>
<p>There are a few things here and there that we have added to hopefully polish the game off a bit.  To help with laser direction (since the rotation overlay from Refraction is gone) we have what I terribly named &#8216;pulse arrows.&#8217;  Essentially every 10 seconds or so a wave of directional arrows is fired off starting at emitters and covers your entire solution, partially as a nice visual effect, and partially to give you a quick reminder of which lasers are going which way.</p>
<p><a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-22.png"><img class="alignnone size-full wp-image-228" title="Screenshot_2012-01-27-16-51-22" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-22.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-22.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-22-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a> <a href="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-49.png"><img class="alignnone size-full wp-image-227" title="Screenshot_2012-01-27-16-51-49" src="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-49.png" alt="" width="240" height="400" srcset="/wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-49.png 480w, /wp-content/uploads/2012/01/Screenshot_2012-01-27-16-51-49-180x300.png 180w" sizes="(max-width: 240px) 100vw, 240px" /></a></p>
<p>A cool little line effect has been added when you place an object, gameplay wise this doesn&#8217;t do much, but it helps give a little pizazz (I think).</p>
<p>The UI has been redesigned a little bit.  Gone are the text labels atop representing the list of checkpoints in the level, now spanning the entire top of the screen are what we like to call (again terribly named) color pads.  This lifts an arbitrary restriction that we had in Refraction that there could only be 4 (sometimes 5 if the text was small enough) checkpoints per level.  We don&#8217;t really have a cap now, but realistically it&#8217;s probably something like 8.  This lets us make some cool levels.</p>
<p>And Prism / mirror counts have been made a bit more visible, I could go into detail here but it&#8217;s not that big of a deal.  We just have a system that hides the prism or mirror button while you are dragging out a new object and instead shows the remaining count.  It&#8217;s glitching a little bit in the pictures above, but when it&#8217;s all polished off it will be really nice.</p>
<p><span style="text-decoration: underline;"><strong>5.  Stuff that might or might not happen</strong></span></p>
<p>We have been debating a few new mechanic/object tweaks to add some variety into the new levels, so it&#8217;s not entirely the same thing.  I am not sure what will happen of this, it&#8217;s high priority but not a guarantee for the first release.</p>
<p>Community Section / Level Editor.  We really wanted to do this for the main release but due to time constrains and losing some man power, it definitely won&#8217;t happen for the first release. Ideally it would line up perfectly as a first big content update a couple of months after initial release.  Users would be able to create and upload their own levels, hopefully allowing the game to live on for a while to come.</p>
<p>Allowing the original levels to be played through the sequel.  Some of the levels we think are really cool, and deserve to be played with the new and improved graphics and controls.   We think ideally we would check (we can do this) to see if you have the original installed, if so the original levels will all be there for you.  And potentially as an in-app purchase for those who never purchased the original.</p>
<p><span style="text-decoration: underline;"><strong>6. Closing Remarks<br />
</strong></span></p>
<p>We plan to have the game ready early March.  It has to happen now, before school gets really crazy later in the semester.  Even if some big things don&#8217;t make it in to the main release, development will continue on into the summer (albeit at a slower pace) with some updates to get everything in there.</p>
<p>I hope you enjoyed reading this, and hope you are excited for this as we are!</p>
				
	</article><!--end .post_class-->
	
			<!--
		<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="http://www.textualindices.com/blog/2012/01/refraction-2/"
    dc:identifier="http://www.textualindices.com/blog/2012/01/refraction-2/"
    dc:title="Refraction 2"
    trackback:ping="http://www.textualindices.com/blog/2012/01/refraction-2/trackback/" />
</rdf:RDF>		-->
	<div class="pagination">			<span class="pagination-text">View More Posts:</span>
				<ul>					<li class="next"><a href="/2011/08/its-been-a-while/" rel="prev">&larr;</a></li>
					<li class="prev"></li>
				</ul></div><!--end .pagination--></div><!--end #content--><div id="sidebar"><div class="sidebar widget-area"><div id="twitter-4" class="widget"><h3><a href='http://twitter.com/textualindices'>Twitter Updates</a></h3><p>Error: Twitter did not respond. Please wait a few minutes and refresh this page.</p></div></div><!--end .sidebar--></div><!--end #sidebar-->	<div class="clear"></div>
	</div><!--end .content-sidebar-wrapper--></div><!--end #main-content .wrap--></div><!--end #main-content--><footer id="footer"><div class="wrap">	<p class="credit"><a href="http://inline.thomasgriffinmedia.com/" target="_blank">Powered by the inLine Minimal WordPress Theme</a></p>
	</div><!--end #footer .wrap--></footer><!--end #footer--></section><!--end #wrapper--><script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?aa&#038;ver=4.9.8'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.9.8'></script>
	<div style="display:none">
	</div>
<script type='text/javascript' src='/wp-content/themes/inline/lib/js/standard.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.8'></script>

	<script src="http://stats.wordpress.com/e-201845.js" type="text/javascript"></script>
	<script type="text/javascript">
	st_go({v:'ext',j:'1:1.5',blog:'21051286',post:'221'});
	var load_cmc = function(){linktracker_init(21051286,221,2);};
	if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
	else load_cmc();
	</script></body><!--end body-->
<script>'undefined'=== typeof _trfq || (window._trfq = []);'undefined'=== typeof _trfd && (window._trfd=[]),_trfd.push({'tccl.baseHost':'secureserver.net'}),_trfd.push({'ap':'cpsh'},{'server':'p3plcpnl0070'}) // Monitoring performance to make your website faster. If you want to opt-out, please contact web hosting support.</script><script src='https://img1.wsimg.com/tcc/tcc_l.combined.1.0.6.min.js'></script></html>